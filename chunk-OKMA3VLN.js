import{a as R,b as $,c as oe,d as ie,e as re}from"./chunk-QKK2YRWX.js";import{$ as X,B as b,C as _,E as y,F as w,G as K,H as L,I as G,J as g,K as l,L as r,M as c,N as m,O as f,P as E,Q as M,R as u,S as i,T as x,U as O,V as H,W as U,X as J,Y as W,_ as q,aa as Q,ca as S,da as Y,ea as Z,fa as ee,i as A,ia as te,ja as ne,k as P,m as v,n as C,s as z,v as B,w as a,y as p}from"./chunk-RLMW3NOZ.js";function j(){return""}function ae(){return{studentId:"",firstname:"",lastname:"",age:0,autobiography:"",friends:[j()]}}function se(o,n){if(o&1){let e=E();l(0,"div")(1,"button",8),M("click",function(){let d=v(e).$index,s=u();return C(s.moveFriend(d,-1))}),i(2,"^"),r(),l(3,"button",8),M("click",function(){let d=v(e).$index,s=u();return C(s.moveFriend(d,1))}),i(4,"V"),r(),l(5,"label")(6,"b"),i(7),r(),c(8,"input",2),b(),r(),l(9,"button",8),M("click",function(){let d=v(e).$index,s=u();return C(s.removeFriend(d))}),i(10,"X"),r()(),l(11,"div"),i(12),r()}if(o&2){let e=n.$implicit,t=n.$index,d=n.$index,s=n.$count,le=n.$count,de=u();a(),g("disabled",d===0),a(2),g("disabled",d===le-1),a(4),O("Friend ",t+1),a(),_(e,"formField"),a(),g("disabled",s===1),a(3),O(" ",e().metadata(de.friendUcNameKey)()," ")}}var k=class o{data=Z.required();friendCountKey=$();friendUcNameKey=$();form=oe(this.data,n=>{R(n.friends,this.friendCountKey,e=>e.value().length),ie(n.friends,e=>{R(e,this.friendUcNameKey,({value:t})=>t().toLocaleUpperCase())})});addFriend(){this.form.friends().value.update(n=>[...n,j()])}removeFriend(n){this.form.friends().value.update(e=>e.filter((t,d)=>d!==n))}moveFriend(n,e){this.form.friends().value.update(t=>t.map((d,s)=>s===n?t[n+e]:s===n+e?t[n]:d))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-profile-form"]],inputs:{data:[1,"data"]},outputs:{data:"dataChange"},decls:33,vars:16,consts:[[1,"main-form",3,"disabled"],[1,"form-self-field"],["type","text",3,"formField"],["type","number","step","1",3,"formField"],[3,"formField"],[3,"disabled"],["type","button",3,"click"],[1,"friend-form"],["type","button",3,"click","disabled"]],template:function(e,t){e&1&&(l(0,"fieldset",0)(1,"div",1)(2,"label")(3,"b"),i(4,"Student ID"),r(),c(5,"input",2),b(),r(),l(6,"label")(7,"b"),i(8,"First Name"),r(),c(9,"input",2),b(),r(),l(10,"label")(11,"b"),i(12,"Last Name"),r(),c(13,"input",2),b(),r(),l(14,"label")(15,"b"),i(16,"Age"),r(),c(17,"input",3),b(),r(),l(18,"label")(19,"b"),i(20,"Autobiography"),r(),c(21,"textarea",4),b(),r()(),l(22,"fieldset",5)(23,"legend"),i(24),l(25,"button",6),M("click",function(){return t.addFriend()}),i(26,"+"),r()(),l(27,"div",7),L(28,se,13,7,null,null,K),r()()(),l(30,"div"),i(31),q(32,"json"),r()),e&2&&(g("disabled",t.form().disabled()),a(5),_(t.form.studentId,"formField"),a(4),_(t.form.firstname,"formField"),a(4),_(t.form.lastname,"formField"),a(4),_(t.form.age,"formField"),a(4),_(t.form.autobiography,"formField"),a(),g("disabled",t.form.friends().disabled()),a(2),O(" Friends [",t.form.friends().metadata(t.friendCountKey)(),"] "),a(4),G(t.form.friends),a(3),x(X(32,14,t.data())))},dependencies:[re,ee],styles:[".form-self-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;align-items:start;margin-bottom:5%}.main-form[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.friend-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}"],changeDetection:0})};var ce="profile-data",h=class o{keyName=`${P(B)}-${ce}`;async get(){return JSON.parse(localStorage.getItem(this.keyName)??"null")}async set(n){return localStorage.setItem(this.keyName,JSON.stringify(n))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})};function me(o,n){if(o&1){let e=E();l(0,"app-profile-form",1),W("dataChange",function(d){v(e);let s=u();return J(s.dataResource.value,d)||(s.dataResource.value=d),C(d)}),r()}if(o&2){let e=u();U("data",e.dataResource.value)}}var N=class o{dataStorage=P(h);dataResource=S({loader:async()=>await this.dataStorage.get()??ae()});constructor(){z(async()=>{this.dataResource.hasValue()&&await this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-profile-form-page"]],decls:1,vars:1,consts:[[3,"data"],[3,"dataChange","data"]],template:function(e,t){e&1&&y(0,me,1,1,"app-profile-form",0),e&2&&w(t.dataResource.hasValue()?0:-1)},dependencies:[k],styles:[".form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px}.numbers-legend[_ngcontent-%COMP%]{display:flex;gap:15px}.numbers-legend[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#cca6a6;border:1px red;border-radius:10px;transition:background-color .25s ease,color .25s ease,box-shadow .25s ease,transform .2s cubic-bezier(.4,0,.2,1);will-change:transform}.numbers-legend[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]:not(:disabled){background-color:red;color:#66010179}.numbers-legend[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:3px 2px #860000;scale:120%}.numbers-legend[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}.numbers[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px;height:25px;width:300px}.numbers[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:25px;border:1px solid rgb(185,0,0);margin-left:5px;transition:background-color .25s ease,color .25s ease,box-shadow .25s ease,transform .2s cubic-bezier(.4,0,.2,1);will-change:transform}.numbers[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled){background-color:#b22222;color:#fff}.numbers[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.numbers[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:3px 2px maroon;transform:scale(1.25)}.input-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.total[_ngcontent-%COMP%]{font-size:larger;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif}.section-number[_ngcontent-%COMP%]{font-size:large;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif;color:#b22222}.add-section[_ngcontent-%COMP%]{font-size:30px;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif;background-color:#b22222;color:#f5f5f5;border:2px solid rgba(68,68,68,.2666666667);border-radius:5px}.add-section[_ngcontent-%COMP%]:active{scale:85%}.add-section[_ngcontent-%COMP%]:hover{box-shadow:3px 2px #860000;transform:scale(1.1);background-color:#f5f5f5;color:#b22222}.add-section[_ngcontent-%COMP%]{transition:background-color .25s ease-in-out,color .25s ease-in-out,box-shadow .25s ease-in-out,transform .1s cubic-bezier(.4,0,.2,1);will-change:transform}#add-input[_ngcontent-%COMP%]{background-color:#d67900;color:#f5f5f5}.main-form[_ngcontent-%COMP%]{padding-top:30px;background-color:#ffb6c0ad}"],changeDetection:0})};var V=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-profile-root"]],decls:9,vars:0,consts:[[1,"app-cmp-nav"],["routerLinkActive","app-st-active"],["routerLink","./view"],["routerLink","./form"]],template:function(e,t){e&1&&(l(0,"nav")(1,"ul",0)(2,"li",1)(3,"a",2),i(4," View "),r()(),l(5,"li",1)(6,"a",3),i(7," Form "),r()()()(),c(8,"router-outlet"))},dependencies:[te,ne],encapsulation:2,changeDetection:0})};var I=class o{data=Y.required();joinFriend=Q(()=>this.data().friends.join(", "));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-profile-view"]],inputs:{data:[1,"data"]},decls:23,vars:6,consts:[[1,"_main-data"],[1,"app-cl-code"],[1,"app-cl-number"],[1,"_autobiography"]],template:function(e,t){e&1&&(m(0,"dl",0)(1,"dt"),i(2,"Student ID"),f(),m(3,"dd")(4,"span",1),i(5),f()(),m(6,"dt"),i(7,"Fullname"),f(),m(8,"dd"),i(9),f(),m(10,"dt"),i(11,"Age"),f(),m(12,"dd")(13,"span",2),i(14),f()(),m(15,"dt"),i(16,"Autobiography"),f(),m(17,"dd",3),i(18),f(),m(19,"dt"),i(20,"Friends"),f(),m(21,"dd"),i(22),f()()),e&2&&(a(5),x(t.data().studentId),a(4),H("",t.data().firstname," ",t.data().lastname),a(5),x(t.data().age),a(4),x(t.data().autobiography),a(4),x(t.joinFriend()))},encapsulation:2,changeDetection:0})};function fe(o,n){o&1&&c(0,"app-profile-view",0),o&2&&g("data",n)}function pe(o,n){o&1&&(l(0,"p"),i(1,"Not Found"),r())}function ue(o,n){if(o&1&&y(0,fe,1,1,"app-profile-view",0)(1,pe,2,0,"p"),o&2){let e,t=u();w((e=t.dataResource.value())?0:1,e)}}var T=class o{dataStorage=P(h);dataResource=S({loader:async()=>await this.dataStorage.get()});static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-profile-view-page"]],decls:1,vars:1,consts:[[3,"data"]],template:function(e,t){e&1&&y(0,ue,2,1),e&2&&w(t.dataResource.hasValue()?0:-1)},dependencies:[I],styles:[".section-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:2000px;margin:10px auto;gap:20px;align-items:center}.section-number[_ngcontent-%COMP%]{font-weight:900;font-size:x-large;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif;color:#b22222}.section-numbers[_ngcontent-%COMP%]{font-weight:400;font-size:medium;margin:10px;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif;background-color:#fff;padding:10px;border-radius:5px}.section[_ngcontent-%COMP%]{border:1px rgb(255,128,128);border-radius:10px;width:15%;padding:12px;background-color:#ffb6c0ad;color:#5a0000;transition:transform .25s cubic-bezier(.4,0,.2,1),background-color .25s ease,box-shadow .25s ease,color .25s ease;will-change:transform}.section[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#b22222;color:#fff;padding:12px 30px}.section[_ngcontent-%COMP%]:hover   .total[_ngcontent-%COMP%]{color:#fff}.section[_ngcontent-%COMP%]:hover   .section-numbers[_ngcontent-%COMP%]{background-color:#ffdde3;color:#6b0000}.section[_ngcontent-%COMP%]:hover   .section-number[_ngcontent-%COMP%]{color:#fff}.total[_ngcontent-%COMP%]{font-size:large;font-weight:700;color:#000;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif}.number-text[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.right[_ngcontent-%COMP%]{text-align:right;font-weight:700}"],changeDetection:0})};var We=[{path:"",component:V,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:T},{path:"form",component:N}]}];export{We as default};
