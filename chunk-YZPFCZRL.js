import{b as Z,c as ee,e as te}from"./chunk-QKK2YRWX.js";import{$ as V,B as L,C as W,E as h,F as w,G as _,H as b,I as y,J as S,K as a,L as c,M as x,N as v,O as D,P as M,Q as P,R as m,S as r,U as p,W as q,X as J,Y as K,_ as k,aa as N,ca as T,da as X,ea as Q,ga as E,i as j,ia as U,ja as Y,k as u,m as f,n as g,s as G,v as H,w as s,y as l}from"./chunk-RLMW3NOZ.js";function oe(n,t){if(n&1){let e=M();a(0,"div",9),x(1,"input",11),L(),a(2,"button",12),P("click",function(){let i=f(e).$index,d=m().$index,F=m();return g(F.removeNumber(d,i))}),r(3," X "),c()()}if(n&2){let e=t.$implicit,o=t.$count;s(),W(e,"formField"),s(),S("disabled",o===1)}}function ie(n,t){if(n&1){let e=M();a(0,"div")(1,"fieldset",3)(2,"legend")(3,"div",4)(4,"b",5),r(5),c(),a(6,"button",6),P("click",function(){let i=f(e).$index,d=m();return g(d.removeSection(i))}),r(7," X "),c(),a(8,"button",7),P("click",function(){let i=f(e).$index,d=m();return g(d.addInput(i))}),r(9,"Add input"),c()()(),a(10,"div",8),b(11,oe,4,3,"div",9,_),c()(),a(13,"div")(14,"span",10),r(15),k(16,"number"),c()()()}if(n&2){let e=t.$implicit,o=t.$index,i=t.$index,d=t.$count,F=m();s(5),p("Section ",i+1),s(),S("disabled",d===1),s(5),y(e),s(4),p("Result : ",V(16,3,F.total()[o]))}}var I=class n{sectionModel=Q.required();numberKey=Z();inputForm=ee(this.sectionModel);total=N(()=>this.inputForm().value().map(t=>t.reduce((e,o)=>e+o,0)));createSection(){this.inputForm().value.update(t=>[...t,[0]])}addInput(t){this.inputForm().value.update(e=>e.map((o,i)=>i===t?[...o,0]:o))}removeNumber(t,e){this.inputForm().value.update(o=>o.map((i,d)=>d===t?i.filter((F,ne)=>ne!==e):i))}removeSection(t){this.inputForm().value.update(e=>e.filter((o,i)=>i!==t))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-dynamic-section-form"]],inputs:{sectionModel:[1,"sectionModel"]},outputs:{sectionModel:"sectionModelChange"},decls:7,vars:0,consts:[[1,"main-form",3,"disabled"],["type","button",1,"add-section",3,"click"],[1,"form-section"],[3,"disabled"],[1,"numbers-legend"],[1,"section-number"],[1,"remove",3,"click","disabled"],["type","button","id","add-input",3,"click"],[1,"input-form"],[1,"numbers"],[1,"total"],["type","number",3,"formField"],["type","button",3,"click","disabled"]],template:function(e,o){e&1&&(a(0,"fieldset",0)(1,"legend")(2,"button",1),P("click",function(){return o.createSection()}),r(3,"Add Section +"),c()(),a(4,"div",2),b(5,ie,17,5,"div",null,_),c()()),e&2&&(s(5),y(o.inputForm))},dependencies:[te,E],styles:[".form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px}.numbers-legend[_ngcontent-%COMP%]{display:flex;gap:15px}.numbers-legend[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#cca6a6;border:1px red;border-radius:10px;transition:background-color .25s ease,color .25s ease,box-shadow .25s ease,transform .2s cubic-bezier(.4,0,.2,1);will-change:transform}.numbers-legend[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]:not(:disabled){background-color:red;color:#66010179}.numbers-legend[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:3px 2px #860000;scale:120%}.numbers-legend[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}.numbers[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px;height:25px;width:300px}.numbers[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:25px;border:1px solid rgb(185,0,0);margin-left:5px;transition:background-color .25s ease,color .25s ease,box-shadow .25s ease,transform .2s cubic-bezier(.4,0,.2,1);will-change:transform}.numbers[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled){background-color:#b22222;color:#fff}.numbers[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.numbers[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:3px 2px maroon;transform:scale(1.25)}.input-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.total[_ngcontent-%COMP%]{font-size:larger;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif}.section-number[_ngcontent-%COMP%]{font-size:large;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif;color:#b22222}.add-section[_ngcontent-%COMP%]{font-size:30px;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif;background-color:#b22222;color:#f5f5f5;border:2px solid rgba(68,68,68,.2666666667);border-radius:5px}.add-section[_ngcontent-%COMP%]:active{scale:85%}.add-section[_ngcontent-%COMP%]:hover{box-shadow:3px 2px #860000;transform:scale(1.1);background-color:#f5f5f5;color:#b22222}.add-section[_ngcontent-%COMP%]{transition:background-color .25s ease-in-out,color .25s ease-in-out,box-shadow .25s ease-in-out,transform .1s cubic-bezier(.4,0,.2,1);will-change:transform}#add-input[_ngcontent-%COMP%]{background-color:#d67900;color:#f5f5f5}.main-form[_ngcontent-%COMP%]{padding-top:30px;background-color:#ffb6c0ad}"],changeDetection:0})};var C=class n{keyName=`${u(H)}-section`;async get(){return JSON.parse(localStorage.getItem(this.keyName)??"null")}async set(t){return localStorage.setItem(this.keyName,JSON.stringify(t))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};function ae(n,t){if(n&1){let e=M();a(0,"app-dynamic-section-form",1),K("sectionModelChange",function(i){f(e);let d=m();return J(d.dataResource.value,i)||(d.dataResource.value=i),g(i)}),c()}if(n&2){let e=m();q("sectionModel",e.dataResource.value)}}var R=class n{dataStorage=u(C);dataResource=T({loader:async()=>await this.dataStorage.get()??[[0]]});constructor(){G(async()=>{this.dataResource.hasValue()&&await this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-dynamic-section-form-page"]],decls:1,vars:1,consts:[[3,"sectionModel"],[3,"sectionModelChange","sectionModel"]],template:function(e,o){e&1&&h(0,ae,1,1,"app-dynamic-section-form",0),e&2&&w(o.dataResource.hasValue()?0:-1)},dependencies:[I],encapsulation:2,changeDetection:0})};var A=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-assignment-root"]],decls:9,vars:0,consts:[[1,"app-cmp-nav"],["routerLinkActive","app-st-active"],["routerLink","./view"],["routerLink","./form"]],template:function(e,o){e&1&&(a(0,"nav")(1,"ul",0)(2,"li",1)(3,"a",2),r(4," View "),c()(),a(5,"li",1)(6,"a",3),r(7," Form "),c()()()(),x(8,"router-outlet"))},dependencies:[U,Y],encapsulation:2,changeDetection:0})};function re(n,t){if(n&1&&(v(0,"div",4)(1,"span",6),r(2),v(3,"span",7),r(4),D()()()),n&2){let e=t.$implicit,o=t.$index;s(2),p(" number ",o+1,": "),s(2),p("",e," ")}}function ce(n,t){if(n&1&&(v(0,"div",1)(1,"div",2)(2,"b")(3,"span",3),r(4),D()()(),b(5,re,5,2,"div",4,_),v(7,"p",5),r(8),k(9,"number"),D()()),n&2){let e=t.$implicit,o=t.$index,i=m();s(4),p("Section ",o+1),s(),y(e),s(3),p("Total : ",V(9,2,i.total()[o]))}}var B=class n{sections=X.required();total=N(()=>this.sections().map(t=>t.reduce((e,o)=>e+o,0)));static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-dynamic-section-view"]],inputs:{sections:[1,"sections"]},decls:3,vars:0,consts:[[1,"section-view"],[1,"section"],[1,"section-header"],[1,"section-number"],[1,"section-numbers"],[1,"total"],[1,"number-text"],[1,"right"]],template:function(e,o){e&1&&(v(0,"div",0),b(1,ce,10,4,"div",1,_),D()),e&2&&(s(),y(o.sections()))},dependencies:[E],styles:[".section-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:2000px;margin:10px auto;gap:20px;align-items:center}.section-number[_ngcontent-%COMP%]{font-weight:900;font-size:x-large;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif;color:#b22222}.section-numbers[_ngcontent-%COMP%]{font-weight:400;font-size:medium;margin:10px;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif;background-color:#fff;padding:10px;border-radius:5px}.section[_ngcontent-%COMP%]{border:1px rgb(255,128,128);border-radius:10px;width:15%;padding:12px;background-color:#ffb6c0ad;color:#5a0000;transition:transform .25s cubic-bezier(.4,0,.2,1),background-color .25s ease,box-shadow .25s ease,color .25s ease;will-change:transform}.section[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#b22222;color:#fff;padding:12px 30px}.section[_ngcontent-%COMP%]:hover   .total[_ngcontent-%COMP%]{color:#fff}.section[_ngcontent-%COMP%]:hover   .section-numbers[_ngcontent-%COMP%]{background-color:#ffdde3;color:#6b0000}.section[_ngcontent-%COMP%]:hover   .section-number[_ngcontent-%COMP%]{color:#fff}.total[_ngcontent-%COMP%]{font-size:large;font-weight:700;color:#000;font-family:Verdana,Geneva,Tahoma,sans-serif,Haettenschweiler,Arial Narrow Bold,sans-serif}.number-text[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.right[_ngcontent-%COMP%]{text-align:right;font-weight:700}"],changeDetection:0})};function se(n,t){n&1&&x(0,"app-dynamic-section-view",0),n&2&&S("sections",t)}function me(n,t){n&1&&(a(0,"p"),r(1,"Not Found"),c())}function de(n,t){if(n&1&&h(0,se,1,1,"app-dynamic-section-view",0)(1,me,2,0,"p"),n&2){let e,o=m();w((e=o.dataResource.value())?0:1,e)}}var z=class n{dataStorage=u(C);dataResource=T({loader:async()=>await this.dataStorage.get()});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-dynamic-section-view-page"]],decls:1,vars:1,consts:[[3,"sections"]],template:function(e,o){e&1&&h(0,de,2,1),e&2&&w(o.dataResource.hasValue()?0:-1)},dependencies:[B],encapsulation:2,changeDetection:0})};var Ge=[{path:"",component:A,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"form",component:R},{path:"view",component:z}]}];export{Ge as default};
